{
  "version": 3,
  "sources": ["empty-module:#app/utils/totp.server.ts", "empty-module:#app/utils/email.server.ts", "../../../node_modules/.pnpm/@react-email+container@0.0.10_react@18.2.0/node_modules/@react-email/container/dist/index.mjs", "../../../node_modules/.pnpm/@react-email+html@0.0.6_react@18.2.0/node_modules/@react-email/html/dist/index.mjs", "../../../node_modules/.pnpm/@react-email+link@0.0.6_react@18.2.0/node_modules/@react-email/link/dist/index.mjs", "../../../node_modules/.pnpm/@react-email+text@0.0.6_react@18.2.0/node_modules/@react-email/text/dist/index.mjs", "../../../app/routes/settings+/profile.change-email.tsx", "../../../app/routes/_auth+/verify.tsx"],
  "sourcesContent": ["module.exports = {};", "module.exports = {};", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/container.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar Container = (_a) => {\n  var _b = _a, {\n    children,\n    style\n  } = _b, props = __objRest(_b, [\n    \"children\",\n    \"style\"\n  ]);\n  return /* @__PURE__ */ jsx(\n    \"table\",\n    __spreadProps(__spreadValues({\n      align: \"center\",\n      width: \"100%\"\n    }, props), {\n      border: 0,\n      cellPadding: \"0\",\n      cellSpacing: \"0\",\n      role: \"presentation\",\n      style: __spreadValues({ maxWidth: \"37.5em\" }, style),\n      children: /* @__PURE__ */ jsx(\"tbody\", { children: /* @__PURE__ */ jsx(\"tr\", { style: { width: \"100%\" }, children: /* @__PURE__ */ jsx(\"td\", { children }) }) })\n    })\n  );\n};\nexport {\n  Container\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/html.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar Html = (_a) => {\n  var _b = _a, {\n    children,\n    lang = \"en\",\n    dir = \"ltr\"\n  } = _b, props = __objRest(_b, [\n    \"children\",\n    \"lang\",\n    \"dir\"\n  ]);\n  return /* @__PURE__ */ jsx(\"html\", __spreadProps(__spreadValues({}, props), { dir, lang, children }));\n};\nexport {\n  Html\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/link.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar Link = (_a) => {\n  var _b = _a, {\n    target = \"_blank\",\n    style\n  } = _b, props = __objRest(_b, [\n    \"target\",\n    \"style\"\n  ]);\n  return /* @__PURE__ */ jsx(\n    \"a\",\n    __spreadProps(__spreadValues({}, props), {\n      style: __spreadValues({\n        color: \"#067df7\",\n        textDecoration: \"none\"\n      }, style),\n      target,\n      children: props.children\n    })\n  );\n};\nexport {\n  Link\n};\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/text.tsx\nimport { jsx } from \"react/jsx-runtime\";\nvar Text = (_a) => {\n  var _b = _a, { style } = _b, props = __objRest(_b, [\"style\"]);\n  return /* @__PURE__ */ jsx(\n    \"p\",\n    __spreadProps(__spreadValues({}, props), {\n      style: __spreadValues({\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        margin: \"16px 0\"\n      }, style)\n    })\n  );\n};\nexport {\n  Text\n};\n", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/settings+/profile.change-email.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/settings+/profile.change-email.tsx\");\n  import.meta.hot.lastModified = \"1714000313430.99\";\n}\n// REMIX HMR END\n\nimport { getFormProps, getInputProps, useForm } from \"@conform-to/react\";\nimport { getZodConstraint, parseWithZod } from \"@conform-to/zod\";\nimport { invariant } from \"@epic-web/invariant\";\nimport * as E from \"@react-email/components\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData, useLoaderData } from \"@remix-run/react\";\nimport { z } from \"zod\";\nimport { ErrorList, Field } from \"#app/components/forms.tsx\";\nimport { Icon } from \"#app/components/ui/icon.tsx\";\nimport { StatusButton } from \"#app/components/ui/status-button.tsx\";\nimport { prepareVerification } from \"#app/routes/_auth+/verify.tsx\";\nimport { requireUserId } from \"#app/utils/auth.server.ts\";\nimport { prisma } from \"#app/utils/db/db.server.ts\";\nimport { sendEmail } from \"#app/utils/email.server.ts\";\nimport { useIsPending } from \"#app/utils/misc.tsx\";\nimport { redirectWithToast } from \"#app/utils/toast.server.ts\";\nimport { EmailSchema } from \"#app/utils/user-validation.ts\";\nimport { verifySessionStorage } from \"#app/utils/verification.server.ts\";\nexport const handle = {\n  breadcrumb: <Icon name=\"envelope-closed\">Change Email</Icon>\n};\nexport const newEmailAddressSessionKey = \"new-email-address\";\nexport async function handleVerification({\n  request,\n  submission\n}) {\n  invariant(submission.status === \"success\", \"Submission should be successful by now\");\n  const verifySession = await verifySessionStorage.getSession(request.headers.get(\"cookie\"));\n  const newEmail = verifySession.get(newEmailAddressSessionKey);\n  if (!newEmail) {\n    return json({\n      result: submission.reply({\n        formErrors: [\"You must submit the code on the same device that requested the email change.\"]\n      })\n    }, {\n      status: 400\n    });\n  }\n  const preUpdateUser = await prisma.user.findFirstOrThrow({\n    select: {\n      email: true\n    },\n    where: {\n      id: submission.value.target\n    }\n  });\n  const user = await prisma.user.update({\n    where: {\n      id: submission.value.target\n    },\n    select: {\n      id: true,\n      email: true,\n      username: true\n    },\n    data: {\n      email: newEmail\n    }\n  });\n  void sendEmail({\n    to: preUpdateUser.email,\n    subject: \"Epic Stack email changed\",\n    react: <EmailChangeNoticeEmail userId={user.id} />\n  });\n  return redirectWithToast(\"/settings/profile\", {\n    title: \"Email Changed\",\n    type: \"success\",\n    description: `Your email has been changed to ${user.email}`\n  }, {\n    headers: {\n      \"set-cookie\": await verifySessionStorage.destroySession(verifySession)\n    }\n  });\n}\nconst ChangeEmailSchema = z.object({\n  email: EmailSchema\n});\nexport async function loader({\n  request\n}) {\n  const userId = await requireUserId(request);\n  const user = await prisma.user.findUnique({\n    where: {\n      id: userId\n    },\n    select: {\n      email: true\n    }\n  });\n  if (!user) {\n    const params = new URLSearchParams({\n      redirectTo: request.url\n    });\n    throw redirect(`/login?${params.toString()}`);\n  }\n  return json({\n    user\n  });\n}\nexport async function action({\n  request\n}) {\n  const userId = await requireUserId(request);\n  const formData = await request.formData();\n  const submission = await parseWithZod(formData, {\n    schema: ChangeEmailSchema.superRefine(async (data, ctx) => {\n      const existingUser = await prisma.user.findUnique({\n        where: {\n          email: data.email\n        }\n      });\n      if (existingUser) {\n        ctx.addIssue({\n          path: [\"email\"],\n          code: z.ZodIssueCode.custom,\n          message: \"This email is already in use.\"\n        });\n      }\n    }),\n    async: true\n  });\n  if (submission.status !== \"success\") {\n    return json({\n      result: submission.reply()\n    }, {\n      status: submission.status === \"error\" ? 400 : 200\n    });\n  }\n  const {\n    otp,\n    redirectTo,\n    verifyUrl\n  } = await prepareVerification({\n    period: 10 * 60,\n    request,\n    target: userId,\n    type: \"change-email\"\n  });\n  const response = await sendEmail({\n    to: submission.value.email,\n    subject: `Epic Notes Email Change Verification`,\n    react: <EmailChangeEmail otp={otp} verifyUrl={verifyUrl.toString()} />\n  });\n  if (response.status === \"success\") {\n    const verifySession = await verifySessionStorage.getSession();\n    verifySession.set(newEmailAddressSessionKey, submission.value.email);\n    return redirect(redirectTo.toString(), {\n      headers: {\n        \"set-cookie\": await verifySessionStorage.commitSession(verifySession)\n      }\n    });\n  } else {\n    return json({\n      result: submission.reply({\n        formErrors: [response.error.message]\n      })\n    }, {\n      status: 500\n    });\n  }\n}\nexport function EmailChangeEmail({\n  verifyUrl,\n  otp\n}) {\n  return <E.Html dir=\"ltr\" lang=\"en\">\n      <E.Container>\n        <h1>\n          <E.Text>Epic Notes Email Change</E.Text>\n        </h1>\n        <p>\n          <E.Text>\n            {`Here's your verification code:`} <strong>{otp}</strong>\n          </E.Text>\n        </p>\n        <p>\n          <E.Text>Or click the link:</E.Text>\n        </p>\n        <E.Link href={verifyUrl}>{verifyUrl}</E.Link>\n      </E.Container>\n    </E.Html>;\n}\n_c = EmailChangeEmail;\nexport function EmailChangeNoticeEmail({\n  userId\n}) {\n  return <E.Html dir=\"ltr\" lang=\"en\">\n      <E.Container>\n        <h1>\n          <E.Text>Your Epic Notes email has been changed</E.Text>\n        </h1>\n        <p>\n          <E.Text>\n            {`We're writing to let you know that your Epic Notes email has been\n            changed.`}\n          </E.Text>\n        </p>\n        <p>\n          <E.Text>\n            If you changed your email address, then you can safely ignore this.\n            But if you did not change your email address, then please contact\n            support immediately.\n          </E.Text>\n        </p>\n        <p>\n          <E.Text>Your Account ID: {userId}</E.Text>\n        </p>\n      </E.Container>\n    </E.Html>;\n}\n_c2 = EmailChangeNoticeEmail;\nexport default function ChangeEmailIndex() {\n  _s();\n  const data = useLoaderData();\n  const actionData = useActionData();\n  const [form, fields] = useForm({\n    id: \"change-email-form\",\n    constraint: getZodConstraint(ChangeEmailSchema),\n    lastResult: actionData?.result,\n    onValidate({\n      formData\n    }) {\n      return parseWithZod(formData, {\n        schema: ChangeEmailSchema\n      });\n    }\n  });\n  const isPending = useIsPending();\n  return <div>\n      <h1 className=\"text-h1\">Change Email</h1>\n      <p>You will receive an email at the new email address to confirm.</p>\n      <p>\n        An email notice will also be sent to your old address {data.user.email}.\n      </p>\n      <div className=\"mx-auto mt-5 max-w-sm\">\n        <Form method=\"POST\" {...getFormProps(form)}>\n          <Field errors={fields.email.errors} inputProps={{\n          ...getInputProps(fields.email, {\n            type: \"email\"\n          }),\n          autoComplete: \"email\"\n        }} labelProps={{\n          children: \"New Email\"\n        }} />\n          <ErrorList errors={form.errors} id={form.errorId} />\n          <div>\n            <StatusButton status={isPending ? \"pending\" : form.status ?? \"idle\"}>\n              Send Confirmation\n            </StatusButton>\n          </div>\n        </Form>\n      </div>\n    </div>;\n}\n_s(ChangeEmailIndex, \"c7eLdpHqN4NN5gMZvVwHBI//RLo=\", false, function () {\n  return [useLoaderData, useActionData, useForm, useIsPending];\n});\n_c3 = ChangeEmailIndex;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"EmailChangeEmail\");\n$RefreshReg$(_c2, \"EmailChangeNoticeEmail\");\n$RefreshReg$(_c3, \"ChangeEmailIndex\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/_auth+/verify.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/_auth+/verify.tsx\");\n  import.meta.hot.lastModified = \"1714001498461.0498\";\n}\n// REMIX HMR END\n\nimport { getFormProps, getInputProps, useForm } from \"@conform-to/react\";\nimport { getZodConstraint, parseWithZod } from \"@conform-to/zod\";\nimport { json } from \"@remix-run/node\";\nimport { Form, useActionData, useSearchParams } from \"@remix-run/react\";\nimport { HoneypotInputs } from \"remix-utils/honeypot/react\";\nimport { z } from \"zod\";\nimport { GeneralErrorBoundary } from \"#app/components/error-boundary.tsx\";\nimport { ErrorList, Field } from \"#app/components/forms.tsx\";\nimport { Spacer } from \"#app/components/spacer.tsx\";\nimport { StatusButton } from \"#app/components/ui/status-button.tsx\";\nimport { handleVerification as handleChangeEmailVerification } from \"#app/routes/settings+/profile.change-email.tsx\";\nimport { prisma } from \"#app/utils/db/db.server.ts\";\nimport { checkHoneypot } from \"#app/utils/honeypot.server.ts\";\nimport { getDomainUrl, useIsPending } from \"#app/utils/misc.tsx\";\nimport { generateTOTP, verifyTOTP } from \"#app/utils/totp.server.ts\";\nimport { handleVerification as handleOnboardingVerification } from \"./onboarding.tsx\";\nimport { handleVerification as handleResetPasswordVerification } from \"./reset-password.tsx\";\nexport const codeQueryParam = \"code\";\nexport const targetQueryParam = \"target\";\nexport const typeQueryParam = \"type\";\nexport const redirectToQueryParam = \"redirectTo\";\nconst types = [\"onboarding\", \"reset-password\", \"change-email\"];\nconst VerificationTypeSchema = z.enum(types);\nconst VerifySchema = z.object({\n  [codeQueryParam]: z.string().min(6).max(6),\n  [typeQueryParam]: VerificationTypeSchema,\n  [targetQueryParam]: z.string(),\n  [redirectToQueryParam]: z.string().optional()\n});\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  checkHoneypot(formData);\n  return validateRequest(request, formData);\n}\nexport function getRedirectToUrl({\n  request,\n  type,\n  target,\n  redirectTo\n}) {\n  const redirectToUrl = new URL(`${getDomainUrl(request)}/verify`);\n  redirectToUrl.searchParams.set(typeQueryParam, type);\n  redirectToUrl.searchParams.set(targetQueryParam, target);\n  if (redirectTo) {\n    redirectToUrl.searchParams.set(redirectToQueryParam, redirectTo);\n  }\n  return redirectToUrl;\n}\nexport async function prepareVerification({\n  period,\n  request,\n  type,\n  target\n}) {\n  const verifyUrl = getRedirectToUrl({\n    request,\n    type,\n    target\n  });\n  const redirectTo = new URL(verifyUrl.toString());\n  const {\n    otp,\n    ...verificationConfig\n  } = generateTOTP({\n    algorithm: \"SHA256\",\n    // Leaving off 0 and O on purpose to avoid confusing users.\n    charSet: \"ABCDEFGHIJKLMNPQRSTUVWXYZ123456789\",\n    period\n  });\n  const verificationData = {\n    type,\n    target,\n    ...verificationConfig,\n    expiresAt: new Date(Date.now() + verificationConfig.period * 1000)\n  };\n  await prisma.verification.upsert({\n    where: {\n      target_type: {\n        target,\n        type\n      }\n    },\n    create: verificationData,\n    update: verificationData\n  });\n\n  // add the otp to the url we'll email the user.\n  verifyUrl.searchParams.set(codeQueryParam, otp);\n  return {\n    otp,\n    redirectTo,\n    verifyUrl\n  };\n}\nexport async function isCodeValid({\n  code,\n  type,\n  target\n}) {\n  const verification = await prisma.verification.findUnique({\n    where: {\n      target_type: {\n        target,\n        type\n      },\n      OR: [{\n        expiresAt: {\n          gt: new Date()\n        }\n      }, {\n        expiresAt: null\n      }]\n    },\n    select: {\n      algorithm: true,\n      secret: true,\n      period: true,\n      charSet: true\n    }\n  });\n  if (!verification) {\n    return false;\n  }\n  const result = verifyTOTP({\n    otp: code,\n    ...verification\n  });\n  if (!result) {\n    return false;\n  }\n  return true;\n}\nasync function validateRequest(request, body) {\n  const submission = await parseWithZod(body, {\n    schema: VerifySchema.superRefine(async (data, ctx) => {\n      const codeIsValid = await isCodeValid({\n        code: data[codeQueryParam],\n        type: data[typeQueryParam],\n        target: data[targetQueryParam]\n      });\n      if (!codeIsValid) {\n        ctx.addIssue({\n          path: [\"code\"],\n          code: z.ZodIssueCode.custom,\n          message: `Invalid code`\n        });\n        return;\n      }\n    }),\n    async: true\n  });\n  if (submission.status !== \"success\") {\n    return json({\n      result: submission.reply()\n    }, {\n      status: submission.status === \"error\" ? 400 : 200\n    });\n  }\n  const {\n    value: submissionValue\n  } = submission;\n  async function deleteVerification() {\n    await prisma.verification.delete({\n      where: {\n        target_type: {\n          type: submissionValue[typeQueryParam],\n          target: submissionValue[targetQueryParam]\n        }\n      }\n    });\n  }\n  switch (submissionValue[typeQueryParam]) {\n    case \"reset-password\":\n      {\n        await deleteVerification();\n        return handleResetPasswordVerification({\n          request,\n          body,\n          submission\n        });\n      }\n    case \"onboarding\":\n      {\n        await deleteVerification();\n        return handleOnboardingVerification({\n          request,\n          body,\n          submission\n        });\n      }\n    case \"change-email\":\n      {\n        await deleteVerification();\n        return handleChangeEmailVerification({\n          request,\n          body,\n          submission\n        });\n      }\n  }\n}\nexport default function VerifyRoute() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const isPending = useIsPending();\n  const actionData = useActionData();\n  const parseWithZodType = VerificationTypeSchema.safeParse(searchParams.get(typeQueryParam));\n  const type = parseWithZodType.success ? parseWithZodType.data : null;\n  const checkEmail = <>\n      <h1 className=\"text-h1\">Check your email</h1>\n      <p className=\"mt-3 text-body-md text-muted-foreground\">\n        {`We've sent you a code to verify your email address.`}\n      </p>\n    </>;\n  const headings = {\n    onboarding: checkEmail,\n    \"reset-password\": checkEmail,\n    \"change-email\": checkEmail\n  };\n  const [form, fields] = useForm({\n    id: \"verify-form\",\n    constraint: getZodConstraint(VerifySchema),\n    lastResult: actionData?.result,\n    onValidate({\n      formData\n    }) {\n      return parseWithZod(formData, {\n        schema: VerifySchema\n      });\n    },\n    defaultValue: {\n      code: searchParams.get(codeQueryParam),\n      type: type,\n      target: searchParams.get(targetQueryParam),\n      redirectTo: searchParams.get(redirectToQueryParam)\n    }\n  });\n  return <main className=\"container flex flex-col justify-center pb-32 pt-20\">\n      <div className=\"text-center\">\n        {type ? headings[type] : \"Invalid Verification Type\"}\n      </div>\n\n      <Spacer size=\"xs\" />\n\n      <div className=\"mx-auto flex w-72 max-w-full flex-col justify-center gap-1\">\n        <div>\n          <ErrorList errors={form.errors} id={form.errorId} />\n        </div>\n        <div className=\"flex w-full gap-2\">\n          <Form method=\"POST\" {...getFormProps(form)} className=\"flex-1\">\n            <HoneypotInputs />\n            <Field errors={fields[codeQueryParam].errors} inputProps={{\n            ...getInputProps(fields[codeQueryParam], {\n              type: \"text\"\n            }),\n            autoComplete: \"one-time-code\"\n          }} labelProps={{\n            htmlFor: fields[codeQueryParam].id,\n            children: \"Code\"\n          }} />\n            <input {...getInputProps(fields[typeQueryParam], {\n            type: \"hidden\"\n          })} />\n            <input {...getInputProps(fields[targetQueryParam], {\n            type: \"hidden\"\n          })} />\n            <input {...getInputProps(fields[redirectToQueryParam], {\n            type: \"hidden\"\n          })} />\n            <StatusButton className=\"w-full\" disabled={isPending} status={isPending ? \"pending\" : form.status ?? \"idle\"} type=\"submit\">\n              Submit\n            </StatusButton>\n          </Form>\n        </div>\n      </div>\n    </main>;\n}\n_s(VerifyRoute, \"mdQnfHSnsVqWxr+aBh52a6+GYjY=\", false, function () {\n  return [useSearchParams, useIsPending, useActionData, useForm];\n});\n_c = VerifyRoute;\nexport function ErrorBoundary() {\n  return <GeneralErrorBoundary />;\n}\n_c2 = ErrorBoundary;\nvar _c, _c2;\n$RefreshReg$(_c, \"VerifyRoute\");\n$RefreshReg$(_c2, \"ErrorBoundary\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_jsx_runtime", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__objRest", "import_jsx_runtime", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__objRest", "import_jsx_runtime", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "__spreadProps", "__objRest", "import_node", "import_db_server", "import_jsx_dev_runtime", "_s", "_c", "_c2", "_s", "_c3"]
}
