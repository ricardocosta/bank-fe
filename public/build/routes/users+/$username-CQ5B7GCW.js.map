{
  "version": 3,
  "sources": ["../../../../app/routes/users+/$username.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/users+/$username.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/users+/$username.tsx\");\n  import.meta.hot.lastModified = \"1702826168518.1807\";\n}\n// REMIX HMR END\n\nimport { invariantResponse } from \"@epic-web/invariant\";\nimport { json } from \"@remix-run/node\";\nimport { Form, Link, useLoaderData } from \"@remix-run/react\";\nimport { GeneralErrorBoundary } from \"#app/components/error-boundary.tsx\";\nimport { Spacer } from \"#app/components/spacer.tsx\";\nimport { Button } from \"#app/components/ui/button.tsx\";\nimport { Icon } from \"#app/components/ui/icon.tsx\";\nimport { prisma } from \"#app/utils/db/db.server\";\nimport { getUserImgSrc } from \"#app/utils/misc.tsx\";\nimport { useOptionalUser } from \"#app/utils/user.ts\";\nexport async function loader({\n  params\n}) {\n  const user = await prisma.user.findFirst({\n    select: {\n      id: true,\n      name: true,\n      username: true,\n      createdAt: true,\n      image: {\n        select: {\n          id: true\n        }\n      }\n    },\n    where: {\n      username: params.username\n    }\n  });\n  invariantResponse(user, \"User not found\", {\n    status: 404\n  });\n  return json({\n    user,\n    userJoinedDisplay: user.createdAt.toLocaleDateString()\n  });\n}\nexport default function ProfileRoute() {\n  _s();\n  const data = useLoaderData();\n  const user = data.user;\n  const userDisplayName = user.name ?? user.username;\n  const loggedInUser = useOptionalUser();\n  const isLoggedInUser = data.user.id === loggedInUser?.id;\n  return <div className=\"container mb-48 mt-36 flex flex-col items-center justify-center\">\n      <Spacer size=\"4xs\" />\n\n      <div className=\"container flex flex-col items-center rounded-3xl bg-muted p-12\">\n        <div className=\"relative w-52\">\n          <div className=\"absolute -top-40\">\n            <div className=\"relative\">\n              <img alt={userDisplayName} className=\"h-52 w-52 rounded-full object-cover\" src={getUserImgSrc(data.user.image?.id)} />\n            </div>\n          </div>\n        </div>\n\n        <Spacer size=\"sm\" />\n\n        <div className=\"flex flex-col items-center\">\n          <div className=\"flex flex-wrap items-center justify-center gap-4\">\n            <h1 className=\"text-center text-h2\">{userDisplayName}</h1>\n          </div>\n          <p className=\"mt-2 text-center text-muted-foreground\">\n            Joined {data.userJoinedDisplay}\n          </p>\n          {isLoggedInUser ? <Form action=\"/logout\" className=\"mt-3\" method=\"POST\">\n              <Button size=\"pill\" type=\"submit\" variant=\"link\">\n                <Icon className=\"scale-125 max-md:scale-150\" name=\"exit\">\n                  Logout\n                </Icon>\n              </Button>\n            </Form> : null}\n          <div className=\"mt-10 flex gap-4\">\n            {isLoggedInUser ? <>\n                <Button asChild>\n                  <Link prefetch=\"intent\" to=\"notes\">\n                    My notes\n                  </Link>\n                </Button>\n                <Button asChild>\n                  <Link prefetch=\"intent\" to=\"/settings/profile\">\n                    Edit profile\n                  </Link>\n                </Button>\n              </> : <Button asChild>\n                <Link prefetch=\"intent\" to=\"notes\">\n                  {`${userDisplayName}'s notes`}\n                </Link>\n              </Button>}\n          </div>\n        </div>\n      </div>\n    </div>;\n}\n_s(ProfileRoute, \"WemrhwYXdIHkPFxNeqgcvBbQjZE=\", false, function () {\n  return [useLoaderData, useOptionalUser];\n});\n_c = ProfileRoute;\nexport const meta = ({\n  data,\n  params\n}) => {\n  const displayName = data?.user.name ?? params.username;\n  return [{\n    title: `${displayName} | Epic Notes`\n  }, {\n    name: \"description\",\n    content: `Profile of ${displayName} on Epic Notes`\n  }];\n};\nexport function ErrorBoundary() {\n  return <GeneralErrorBoundary statusHandlers={{\n    404: ({\n      params\n    }) => <p>{`No user with the username \"${params.username}\" exists`}</p>\n  }} />;\n}\n_c2 = ErrorBoundary;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProfileRoute\");\n$RefreshReg$(_c2, \"ErrorBoundary\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
